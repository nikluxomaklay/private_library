# Task 003-notes

## Общее описание:
Нужно добавить в систему возможность вести карточки с заметками по системе Zettelkasten.

## User story 1: Просмотр списка заметок
**Как пользователь системы**, я хочу видеть в боковом меню новый пункт 'Notes'.
При переходе по ссылке я попадаю на список заметок.

### Организация списка:
- В списке нужно выводить заметки в иерархическом виде
- Для индикации зависимостей использовать отступы
- Пагинацию производить по верхнеуровневым заметкам (у которых нет родителя)
- Если у верхнеуровневой заметки есть дочерние, то они все должны быть выведены на текущей странице
- Отображать Индекс и тему заметки
- Индекс - ссылка на детальную страницу

## User story 2: Просмотр детальной страницы
**Как пользователь системы**, я хочу при переходе на детальную страницу Note увидеть следующую информацию:
- Индекс
- Тема
- Текст заметки
- Родительская заметка
- Связанное книжное издание + дополнительная информация о книжном издании (в одной строке)
- Ключевые слова
- Связанные заметки (индекс + тема)
- Дата создания + дата обновления (в одной строке)

## User story 3: Просмотр заметок на странице книжного издания
**Как пользователь системы**, я хочу видеть связанные заметки на детальной странице книжного издания.
Отображать иерархически, используя отступы.

## User story 4: Добавление заметки со страницы списка заметок
**Как пользователь системы**, я хочу иметь возможность создать новую заметку, находясь на странице списка заметок.
Нужно добавить в блок действий кнопку New note.
Кнопка ведет на страницу создания заметки.

### Страница создания заметки
- Тема - строка (255 символов; обязательное)
- Текст заметки - текстовое поле (не обязательное)
- Книжное издание - селектор с live-поиском и асинхронной загрузкой данных (не обязательное)
- Уточнения к книжному изданию - текстовое поле (не обязательное; доступно для редактирования только если выбрано книжное издание; если книжное издание не выбрано, то поле должно быть пустое)
- Родительская заметка - селектор с live-поиском и асинхронной загрузкой данных (не обязательное)
- Ключевые слова - селектор с live-поиском и асинхронной загрузкой данных (не обязательное)

## User story 5: Добавление заметки со страницы книжного издания
**Как пользователь системы**, я хочу иметь возможность создать новую заметку, находясь на детальной странице книжного издания.
Нужно добавить в блок действий кнопку New note.
Кнопка ведет на страницу создания заметки с предзаполненным полем Книжное издание.

## User story 6: Добавление заметки со страницы другой заметки
**Как пользователь системы**, я хочу иметь возможность создать новую заметку, находясь на детальной странице другой заметки.
Нужно добавить в блок действий кнопку New note.
Кнопка ведет на страницу создания заметки с предзаполненными полями Родительская заметка, Книжное издание и Ключевые слова.

## Дополнительная информация и ограничения
- Новое app создавать не нужно, требуется реализовать заметки в рамках core (модели и связанная с ними логика) и front (views, forms, static, urls) приложений.
- Модели Note и KeyWord уже созданы в приложении core. Другие модели создавать не нужно. Миграция тоже уже есть.
- Для реализации селекторов с live-поиском и асинхронной загрузкой данных нужно в качестве примера использовать поле Publisher на странице создания Book edition.